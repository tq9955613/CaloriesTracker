(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{69:function(e,t,n){},94:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),s=n(25),i=n.n(s),l=(n(69),n(16)),o=n(3),u=n(6),j=n(12),d=Object(j.c)(),b=d.getInitialState(),m=Object(j.d)({name:"order",initialState:b,reducers:{orderAdded:d.addOne,orderDeleted:d.removeOne}}),O=m.actions,h=O.orderAdded,x=O.orderDeleted,f=d.getSelectors((function(e){return e.order})),v=f.selectById,p=f.selectIds,g=f.selectEntities,N=m.reducer,C=n(20),S=function(){var e=Object(o.g)(),t=Object(u.c)(g),n=Object(u.c)(p);if(0===n.length)return Object(c.jsxs)("div",{className:"notice",children:["Please order",Object(c.jsx)(l.b,{to:"/menu",children:"Go to Menu"})]});var a=Object.values(t).reduce((function(e,t){return e+t.calories}),0),r=n.map((function(e){return Object(c.jsx)(w,{id:e},e)}));return Object(c.jsxs)("div",{className:"order",children:[Object(c.jsxs)("div",{className:"board",children:["\u71b1\u91cf: ",a," Kcal"]}),Object(c.jsx)("div",{className:"meals",children:Object(c.jsx)("ul",{children:r})}),Object(c.jsx)("button",{onClick:function(){return e.push("/menu")},children:"\u52a0\u5165\u66f4\u591a\u9910\u9ede"})]})};function w(e){var t=e.id,n=Object(u.b)(),a=Object(u.c)((function(e){return v(e,t)})),r=a.name,s=a.calories;return Object(c.jsxs)("li",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:r}),Object(c.jsxs)("div",{children:[s," Kcal"]})]}),Object(c.jsx)("button",{onClick:function(){return n(x(t))},children:Object(c.jsx)(C.c,{className:"iconBtn"})})]})}var B,I=n(34),k=n(21),y=n(22),A=n.n(y),L=n(41),D=n(42),M=n.n(D),T="/api/meals",E=Object(j.c)(),F=E.getInitialState({status:"initial"}),K=Object(j.b)("menu/fetchAll",Object(L.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get(T).then((function(e){return e.data}));case 2:return t=e.sent,n=t.meals,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),P=Object(j.b)("menu/menuAdded",function(){var e=Object(L.a)(A.a.mark((function e(t){var n,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,M.a.post(T,a).then((function(e){return e.data}));case 2:return n=e.sent,c=n.meal,e.abrupt("return",c);case 5:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(j.d)({name:"menu",initialState:F,reducers:{menuInit:function(e,t){e.status="initial",E.setAll(e,t)},menuDeleted:E.removeOne},extraReducers:(B={},Object(k.a)(B,K.pending,(function(e){e.status="loading"})),Object(k.a)(B,K.fulfilled,(function(e,t){E.setAll(e,t.payload),e.status="idle"})),Object(k.a)(B,K.rejected,(function(e){e.status="idle"})),Object(k.a)(B,P.fulfilled,E.addOne),B)}),J=H.actions,R=J.menuInit,z=(J.menuDeleted,E.getSelectors((function(e){return e.menu}))),G=z.selectById,q=z.selectIds,Q=H.reducer;function U(e){var t=e.id,n=Object(u.b)(),a=Object(o.g)(),r=Object(u.c)((function(e){return G(e,t)}));if(void 0===r)return null;var s=r.name,i=r.calories;return Object(c.jsx)("li",{children:Object(c.jsxs)("button",{onClick:function(e){n(h(r)),a.push("/order")},children:[Object(c.jsx)("div",{children:s}),Object(c.jsxs)("div",{children:[i," Kcal"]})]})})}function V(e){var t=e.closeHandle,n=Object(a.useState)(""),r=Object(I.a)(n,2),s=r[0],i=r[1],l=Object(a.useState)(""),o=Object(I.a)(l,2),j=o[0],d=o[1],b=Object(u.b)();return Object(c.jsxs)("form",{className:"newMeal",children:[Object(c.jsxs)("div",{className:"left",children:[Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"text",value:s,placeholder:"New Meal...",onChange:function(e){return i(e.target.value)}})}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"text",value:j,placeholder:"Calories...",onChange:function(e){return d(e.target.value)}})})]}),Object(c.jsx)("div",{className:"right",children:Object(c.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),!s||isNaN(+j)||+j<0||(b(P({meal:{name:s,calories:+j}})),i(""),d(""),t())},children:Object(c.jsx)(C.a,{className:"iconBtn"})})})]})}var W=function(){var e=Object(u.b)(),t=Object(o.h)().pathname,n=Object(a.useState)(!1),r=Object(I.a)(n,2),s=r[0],i=r[1],l=Object(u.c)(q),j=Object(u.c)((function(e){return e.menu.status}));if(Object(a.useEffect)((function(){return e(K()),function(){e(R([]))}}),[]),"/menu"!==t)return Object(c.jsx)(o.a,{to:"/menu"});var d=l.map((function(e){return Object(c.jsx)(U,{id:e},e)}));return Object(c.jsxs)("div",{className:"menu",children:[Object(c.jsx)("div",{className:"categories"}),Object(c.jsxs)("div",{className:"meals",children:[Object(c.jsxs)("div",{className:"top",children:[Object(c.jsx)("h1",{className:"category",children:"ALL"}),Object(c.jsx)("button",{className:"menuAdded",onClick:function(e){return i((function(e){return!e}))},children:Object(c.jsx)(C.b,{className:"iconBtn"})})]}),s&&Object(c.jsx)(V,{closeHandle:function(){return i(!1)}}),"idle"!==j?Object(c.jsx)("span",{children:"Loading ..."}):Object(c.jsx)("ul",{children:d})]})]})};var X=function(){return Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)(l.a,{basename:window.location.pathname,children:[Object(c.jsx)("header",{children:Object(c.jsxs)("nav",{children:[Object(c.jsx)(l.c,{to:"menu",activeClassName:"active",children:"Menu"}),Object(c.jsx)(l.c,{to:"order",activeClassName:"active",children:"Order"})]})}),Object(c.jsx)("main",{children:Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{path:"/order",children:Object(c.jsx)(S,{})}),Object(c.jsx)(o.b,{path:"/menu",children:Object(c.jsx)(W,{})}),Object(c.jsx)(o.a,{to:"/"})]})}),Object(c.jsx)("footer",{})]})})};n(94);var Y=function(){return Object(c.jsx)(X,{})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},$=n(35),_=[{name:"\u5927\u9ea5\u514b",calories:548},{name:"\u96d9\u5c64\u725b\u8089\u5409\u4e8b\u5821",calories:467},{name:"\u5ae9\u714e\u96de\u817f\u5821",calories:363},{name:"\u9ea5\u9999\u96de",calories:360},{name:"\u9ea5\u514b\u96de\u584a(4\u584a)",calories:180},{name:"\u9ea5\u514b\u96de\u584a(6\u584a)",calories:270},{name:"\u9ea5\u514b\u96de\u584a(10\u584a)",calories:449},{name:"\u52c1\u8fa3\u96de\u817f\u5821",calories:493},{name:"\u9ea5\u8106\u96de\u7fc5(2\u584a)",calories:611},{name:"\u9ea5\u8106\u96de\u817f(2\u584a)",calories:747},{name:"\u9ec3\u91d1\u8d77\u53f8\u8c6c\u6392\u5821",calories:347},{name:"\u9ea5\u9999\u9b5a",calories:330},{name:"\u7159\u71fb\u96de\u8089\u9577\u5821",calories:381},{name:"\u8591\u71d2\u8c6c\u8089\u9577\u5821",calories:483},{name:"\u8548\u83c7\u5b89\u683c\u65af\u9ed1\u725b\u5821",calories:575},{name:"BLT\u5b89\u683c\u65af\u9ed1\u725b\u5821",calories:544},{name:"BLT\u8fa3\u8106\u96de\u817f\u5821",calories:554},{name:"BLT\u5ae9\u714e\u96de\u817f\u5821",calories:455},{name:"\u51f1\u6492\u8fa3\u8106\u96de\u6c99\u62c9",calories:347},{name:"\u7fa9\u5f0f\u70e4\u96de\u6c99\u62c9",calories:248},{name:"\u85af\u689d(\u5c0f)",calories:265},{name:"\u85af\u689d(\u4e2d)",calories:376},{name:"\u85af\u689d(\u5927)",calories:529},{name:"\u51b0\u70ab\u98a8(OREO)",calories:352},{name:"\u52c1\u8fa3\u9999\u96de\u7fc5(2\u584a)",calories:292},{name:"\u7389\u7c73\u6e6f(\u5c0f)",calories:93},{name:"\u7389\u7c73\u6e6f(\u5927)",calories:140},{name:"\u53ef\u53e3\u53ef\u6a02(\u4e2d)",calories:149},{name:"\u96ea\u78a7(\u4e2d)",calories:163},{name:"\u51b0\u6ab8\u6aac\u7d05\u8336(\u4e2d)",calories:117}];var ee=Object(j.a)({reducer:{order:N,menu:Q}});!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.environment,n=void 0===t?"test":t,c=Object($.c)({environment:n,models:{meal:$.a},fixtures:{meals:_},serializers:{application:$.b},routes:function(){this.namespace="api",this.resource("meals")}})}({environment:"development"}),i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(u.a,{store:ee,children:Object(c.jsx)(Y,{})})}),document.getElementById("root")),Z()}},[[97,1,2]]]);
//# sourceMappingURL=main.79a282e9.chunk.js.map